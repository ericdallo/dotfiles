{
    "defaultModel": "nubank-anthropic/opus-4.5",
    "providers": {
        "nubank": {
            "api": "openai-responses",
            "url": "${env:NULITELLM_API_URL}",
            "key": "${env:NULITELLM_API_KEY}",
            "models": {"gpt-5.2": {},
                       "gpt-5.2-xhigh": {
                           "modelName": "openai/gpt-5.2",
                           "extraPayload": {"reasoning": {"effort": "xhigh"}}
                       },
                       "gpt-5-codex": {"reasoning": { "effort": "high" }},
                       "gpt-5-nano": {},
                       "gpt-5-mini": {},
                       "gpt-4.1": {}}
        }, 
        "nubank-anthropic": {
            "api": "anthropic",
            "url": "${env:NULITELLM_API_URL}",
            "key": "${env:NULITELLM_API_KEY}",
            "models": {
                "sonnet-4.5": {
                    "modelName": "anthropic/claude-sonnet-4-5-20250929"
                },
                "opus-4.5": {
                    "modelName": "anthropic/claude-opus-4-5-20251101"
                }
            }
        }
        // "nubank-inference": {
        //     "api": "openai-chat",
        //     "url": "${env:NU_INFERENCE_API_URL}",
        //     "key": "${env:NU_INFERENCE_API_KEY}",
        //     "models": {
        //         "bdc-model": {
        //             "modelName": "nubank-custom-model"
        //         }
        //     }
        // }
        // "openrouter": {
        //     "api": "openai-chat",
        //     "url": "https://openrouter.ai/api/v1",
        //     "key": "${env:OPENROUTER_API_KEY}",
        //     "models": {"z-ai/glm-4.5-air:free": {},
        //                "qwen/qwen3-coder:free": {}}
        // },
        // "github-copilot": {
        //     "models": {
        //         "gpt-5-mini-non-stream": {
        //             "modelName": "gpt-5-mini",
        //             "extraPayload": {"stream": false}
        //         }
        //     }
        // },
        // "lmstudio": {
        //     "api": "openai-chat",
        //     "url": "http://localhost:1234",
        //     "completionUrlRelativePath": "/v1/chat/completions",
        //     "httpClient": {
        //         "version": "http-1.1"
        //     },
        //     "models": {
        //         "foo": {}
        //     }
        // }
    },
    "customTools": {
        "clj-nrepl-eval": {
            "description": "${file:tools/clj-nrepl-eval.md}",
            "command": "/home/greg/.local/bin/clj-nrepl-eval -p $(cat .nrepl-port) $'{{code}}'",
            "schema": {
                "properties": {
                    "code": {
                        "type": "string",
                        "description": "A string of clojure code to evaluate in the application runtime. It will be wrapped in ANSI-CE quoting automatically: $'...' be sure to  escape single quotes as \\', backslashes as \\\\. Example: $'(let [r (+ 1  2 3)] (println r))'"
                    }
                },
                "required": ["code"]
            }
        }
    },
    "completion": {"model": "nubank/gpt-5.2"},
    "rewrite": {"model": "nubank/gpt-5.2"},
    "hooks": {
        "notify-finished": {
            "type": "postRequest",
            "visible": false,
            "actions": [
                {
                    "type": "shell",
                    "shell": "canberra-gtk-play -i complete"
                }
            ]
        }
    },
    "toolCall": {
        "approval": {
            "allow": {"nu-mcp": {},
                      "clojure-mcp-clj": {}}
        }
    },
    "mcpServers": {
        // "clojure-mcp-clj": {
        //     "command": "bash",
        //      "args": ["-c", "clojure -X:mcp-deps"]
        // },
        // "nu-mcp": {
        //     "command": "$HOME/dev/nu/nu-mcp/run.sh",
        //     "args": ["--modules", "on-call"],
        //     "env": {"MCP_DEBUG": "true"}
        // }
        // "github-http": {
        //     "url": "https://api.githubcopilot.com/mcp/"
        // }
        // "miro": {
        //     "url": "https://mcp.miro.com/" 
        // }
        "atlasian-http": {
            "url": "https://mcp.atlassian.com/v1/sse"
        }
        // "hugging": {
        //     "url": "https://huggingface.co/mcp"
        // }
        // "fetch": {
        //     "command": "docker",
        //     "args": ["run", "-i", "--rm", "mcp/fetch"]
        // }
        // "github": {
        //     "command": "npx",
        //     "args": ["mcp-remote", "https://api.githubcopilot.com/mcp/"]
        // }
        // "memory": {
        //     "command": "npx",
        //     "args": ["-y", "@modelcontextprotocol/server-memory"]
        // },

        // "filesystem": {
        //     "command": "npx",
        //     "args": ["-y", "@modelcontextprotocol/server-filesystem", "$HOME/dev"]
        // }
    }
}
